import{f as c,k as m,l as p,a as d,b as u,d as l,j as r,i as f,o as _}from"./index-DqEsnwXw.js";import{_ as v}from"./DepartmentForm-X_aWXhSJ.js";const g={__name:"DepartmentDetail",setup(b){const n=p(),a=f(),s=c({}),o=async t=>{try{const e=await r(`/api/v1/university-service/departments/${t}`);Object.assign(s,e.data.items[0])}catch(e){e.response.data.code===404?(alert(e.response.data.message),a.push({name:"departments"})):alert("에러가 발생했습니다.")}},i=async t=>{try{const e=await r.put(`/api/v1/university-service/departments/${t.no}`,t);e.data.code===200&&(alert("정상적으로 수정되었습니다."),a.push({name:"departments/no",params:{no:e.data.items[0].no}}))}catch(e){e.response.data.code===400?alert("학과 정보를 모두 입력해 주세요"):e.response.data.code===404?alert("error.response.data.message"):alert("에러가 발생했습니다.")}};return m(()=>{o(n.params.no)}),(t,e)=>(_(),d("div",null,[e[0]||(e[0]=u("h2",null,"학과 상세 보기",-1)),l(v,{"submit-button-text":"수정","init-form-data":s,onFormSubmit:i},null,8,["init-form-data"])]))}};export{g as default};
